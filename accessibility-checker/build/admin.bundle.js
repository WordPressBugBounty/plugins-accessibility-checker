/*! For license information please see admin.bundle.js.LICENSE.txt */
(()=>{"use strict";(()=>{const e=wp.i18n;var t=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],n=t.join(","),a="undefined"==typeof Element,r=a?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,o=!a&&Element.prototype.getRootNode?function(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null==e?void 0:e.ownerDocument},i=function e(t,n){var a;void 0===n&&(n=!0);var r=null==t||null===(a=t.getAttribute)||void 0===a?void 0:a.call(t,"inert");return""===r||"true"===r||n&&t&&e(t.parentNode)},c=function(e,t,a){if(i(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(n));return t&&r.call(e,n)&&o.unshift(e),o=o.filter(a)},s=function e(t,a,o){for(var c=[],s=Array.from(t);s.length;){var d=s.shift();if(!i(d,!1))if("SLOT"===d.tagName){var u=d.assignedElements(),l=e(u.length?u:d.children,!0,o);o.flatten?c.push.apply(c,l):c.push({scopeParent:d,candidates:l})}else{r.call(d,n)&&o.filter(d)&&(a||!t.includes(d))&&c.push(d);var f=d.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(d),m=!i(f,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(d));if(f&&m){var y=e(!0===f?d.children:f.children,!0,o);o.flatten?c.push.apply(c,y):c.push({scopeParent:d,candidates:y})}else s.unshift.apply(s,d.children)}}return c},d=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},u=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null==e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!d(e)?0:e.tabIndex},l=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},f=function(e){return"INPUT"===e.tagName},m=function(e){return function(e){return f(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||o(e),a=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=a(window.CSS.escape(e.name));else try{t=a(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!r||r===e}(e)},y=function(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;return 0===n&&0===a},p=function(e,t){var n=t.displayCheck,a=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=r.call(e,"details>summary:first-of-type")?e.parentElement:e;if(r.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return y(e)}else{if("function"==typeof a){for(var c=e;e;){var s=e.parentElement,d=o(e);if(s&&!s.shadowRoot&&!0===a(s))return y(e);e=e.assignedSlot?e.assignedSlot:s||d===e.ownerDocument?s:d.host}e=c}if(function(e){var t,n,a,r,i=e&&o(e),c=null===(t=i)||void 0===t?void 0:t.host,s=!1;if(i&&i!==e)for(s=!!(null!==(n=c)&&void 0!==n&&null!==(a=n.ownerDocument)&&void 0!==a&&a.contains(c)||null!=e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!s&&c;){var d,u,l;s=!(null===(u=c=null===(d=i=o(c))||void 0===d?void 0:d.host)||void 0===u||null===(l=u.ownerDocument)||void 0===l||!l.contains(c))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},v=function(e,t){return!(t.disabled||i(t)||function(e){return f(e)&&"hidden"===e.type}(t)||p(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var a=t.children.item(n);if("LEGEND"===a.tagName)return!!r.call(t,"fieldset[disabled] *")||!a.contains(e)}return!0}t=t.parentElement}return!1}(t))},h=function(e,t){return!(m(t)||u(t)<0||!v(e,t))},b=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},g=function e(t){var n=[],a=[];return t.forEach((function(t,r){var o=!!t.scopeParent,i=o?t.scopeParent:t,c=function(e,t){var n=u(e);return n<0&&t&&!d(e)?0:n}(i,o),s=o?e(t.candidates):i;0===c?o?n.push.apply(n,s):n.push(i):a.push({documentOrder:r,tabIndex:c,item:t,isScope:o,content:s})})),a.sort(l).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==r.call(e,n)&&h(t,e)},w=t.concat("iframe").join(","),j=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==r.call(e,w)&&v(t,e)};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},Q=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()},N=function(e){return"Tab"===(null==e?void 0:e.key)||9===(null==e?void 0:e.keyCode)},T=function(e){return N(e)&&!e.shiftKey},A=function(e){return N(e)&&e.shiftKey},L=function(e){return setTimeout(e,0)},C=function(e,t){var n=-1;return e.every((function(e,a){return!t(e)||(n=a,!1)})),n},q=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,n):e},O=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},D=[],I=function(e,t){var n,a=(null==t?void 0:t.document)||document,r=(null==t?void 0:t.trapStack)||D,o=x({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:T,isKeyBackward:A},t),i={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},l=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return i.containerGroups.findIndex((function(t){var a=t.container,r=t.tabbableNodes;return a.contains(e)||(null==n?void 0:n.includes(a))||r.find((function(t){return t===e}))}))},f=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=t.apply(void 0,r)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var c=t;if("string"==typeof t&&!(c=a.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return c},m=function(){var e=f("initialFocus");if(!1===e)return!1;if(void 0===e||!j(e,o.tabbableOptions))if(l(a.activeElement)>=0)e=a.activeElement;else{var t=i.tabbableGroups[0];e=t&&t.firstTabbableNode||f("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},y=function(){if(i.containerGroups=i.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?s([e],t.includeContainer,{filter:h.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:b}):c(e,t.includeContainer,h.bind(null,t)),g(n)}(e,o.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?s([e],t.includeContainer,{filter:v.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):c(e,t.includeContainer,v.bind(null,t))}(e,o.tabbableOptions),a=t.length>0?t[0]:void 0,r=t.length>0?t[t.length-1]:void 0,i=n.find((function(e){return _(e)})),d=n.slice().reverse().find((function(e){return _(e)})),l=!!t.find((function(e){return u(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:a,lastTabbableNode:r,firstDomTabbableNode:i,lastDomTabbableNode:d,nextTabbableNode:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.indexOf(e);return r<0?a?n.slice(n.indexOf(e)+1).find((function(e){return _(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return _(e)})):t[r+(a?1:-1)]}}})),i.tabbableGroups=i.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),i.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(i.containerGroups.find((function(e){return e.posTabIndexesFound}))&&i.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},p=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},w=function e(t){!1!==t&&t!==p(document)&&(t&&t.focus?(t.focus({preventScroll:!!o.preventScroll}),i.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(t)&&t.select()):e(m()))},S=function(e){var t=f("setReturnFocus",e);return t||!1!==t&&e},E=function(e){var t=e.target,n=e.event,a=e.isBackward,r=void 0!==a&&a;t=t||O(n),y();var c=null;if(i.tabbableGroups.length>0){var s=l(t,n),d=s>=0?i.containerGroups[s]:void 0;if(s<0)c=r?i.tabbableGroups[i.tabbableGroups.length-1].lastTabbableNode:i.tabbableGroups[0].firstTabbableNode;else if(r){var m=C(i.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(m<0&&(d.container===t||j(t,o.tabbableOptions)&&!_(t,o.tabbableOptions)&&!d.nextTabbableNode(t,!1))&&(m=s),m>=0){var p=0===m?i.tabbableGroups.length-1:m-1,v=i.tabbableGroups[p];c=u(t)>=0?v.lastTabbableNode:v.lastDomTabbableNode}else N(n)||(c=d.nextTabbableNode(t,!1))}else{var h=C(i.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(h<0&&(d.container===t||j(t,o.tabbableOptions)&&!_(t,o.tabbableOptions)&&!d.nextTabbableNode(t))&&(h=s),h>=0){var b=h===i.tabbableGroups.length-1?0:h+1,g=i.tabbableGroups[b];c=u(t)>=0?g.firstTabbableNode:g.firstDomTabbableNode}else N(n)||(c=d.nextTabbableNode(t))}}else c=f("fallbackFocus");return c},I=function(e){var t=O(e);l(t,e)>=0||(q(o.clickOutsideDeactivates,e)?n.deactivate({returnFocus:o.returnFocusOnDeactivate}):q(o.allowOutsideClick,e)||e.preventDefault())},F=function(e){var t=O(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(i.mostRecentlyFocusedNode=t);else{var a;e.stopImmediatePropagation();var r=!0;if(i.mostRecentlyFocusedNode)if(u(i.mostRecentlyFocusedNode)>0){var c=l(i.mostRecentlyFocusedNode),s=i.containerGroups[c].tabbableNodes;if(s.length>0){var d=s.findIndex((function(e){return e===i.mostRecentlyFocusedNode}));d>=0&&(o.isKeyForward(i.recentNavEvent)?d+1<s.length&&(a=s[d+1],r=!1):d-1>=0&&(a=s[d-1],r=!1))}}else i.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return u(e)>0}))}))||(r=!1);else r=!1;r&&(a=E({target:i.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(i.recentNavEvent)})),w(a||(i.mostRecentlyFocusedNode||m()))}i.recentNavEvent=void 0},P=function(e){if(!(t=e,"Escape"!==(null==t?void 0:t.key)&&"Esc"!==(null==t?void 0:t.key)&&27!==(null==t?void 0:t.keyCode)||!1===q(o.escapeDeactivates,e)))return e.preventDefault(),void n.deactivate();var t;(o.isKeyForward(e)||o.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];i.recentNavEvent=e;var n=E({event:e,isBackward:t});n&&(N(e)&&e.preventDefault(),w(n))}(e,o.isKeyBackward(e))},R=function(e){var t=O(e);l(t,e)>=0||q(o.clickOutsideDeactivates,e)||q(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},G=function(){if(i.active)return k(r,n),i.delayInitialFocusTimer=o.delayInitialFocus?L((function(){w(m())})):w(m()),a.addEventListener("focusin",F,!0),a.addEventListener("mousedown",I,{capture:!0,passive:!1}),a.addEventListener("touchstart",I,{capture:!0,passive:!1}),a.addEventListener("click",R,{capture:!0,passive:!1}),a.addEventListener("keydown",P,{capture:!0,passive:!1}),n},B=function(){if(i.active)return a.removeEventListener("focusin",F,!0),a.removeEventListener("mousedown",I,!0),a.removeEventListener("touchstart",I,!0),a.removeEventListener("click",R,!0),a.removeEventListener("keydown",P,!0),n},U="undefined"!=typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===i.mostRecentlyFocusedNode}))}))&&w(m())})):void 0,M=function(){U&&(U.disconnect(),i.active&&!i.paused&&i.containers.map((function(e){U.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return i.active},get paused(){return i.paused},activate:function(e){if(i.active)return this;var t=d(e,"onActivate"),n=d(e,"onPostActivate"),r=d(e,"checkCanFocusTrap");r||y(),i.active=!0,i.paused=!1,i.nodeFocusedBeforeActivation=a.activeElement,null==t||t();var o=function(){r&&y(),G(),M(),null==n||n()};return r?(r(i.containers.concat()).then(o,o),this):(o(),this)},deactivate:function(e){if(!i.active)return this;var t=x({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(i.delayInitialFocusTimer),i.delayInitialFocusTimer=void 0,B(),i.active=!1,i.paused=!1,M(),Q(r,n);var a=d(t,"onDeactivate"),c=d(t,"onPostDeactivate"),s=d(t,"checkCanReturnFocus"),u=d(t,"returnFocus","returnFocusOnDeactivate");null==a||a();var l=function(){L((function(){u&&w(S(i.nodeFocusedBeforeActivation)),null==c||c()}))};return u&&s?(s(S(i.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(e){if(i.paused||!i.active)return this;var t=d(e,"onPause"),n=d(e,"onPostPause");return i.paused=!0,null==t||t(),B(),M(),null==n||n(),this},unpause:function(e){if(!i.paused||!i.active)return this;var t=d(e,"onUnpause"),n=d(e,"onPostUnpause");return i.paused=!1,null==t||t(),y(),G(),M(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return i.containers=t.map((function(e){return"string"==typeof e?a.querySelector(e):e})),i.active&&y(),M(),this}}).updateContainerElements(e),n};const F=()=>{const e=document.querySelectorAll(".edac-panel");e.length&&e.forEach((e=>{e.style.display="none",e.classList.remove("active"),e.setAttribute("aria-selected","false");const t=document.querySelector("#"+e.getAttribute("aria-labelledby"));t&&(t.classList.remove("active"),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"))}))},P=()=>{const t=document.querySelectorAll(".edac-details-rule-records-record-actions-fix");document.querySelectorAll(".edac-fix-settings--button--save").forEach((t=>{t.addEventListener("click",(t=>{(t=>{const n={};t.querySelectorAll("input, select, textarea").forEach((e=>{e.addEventListener("change",(()=>{document.dispatchEvent(new CustomEvent("edac-fix-settings-change"))}));const t=e.getAttribute("data-fix-slug");t&&(void 0===n[t]&&(n[t]={}),"checkbox"===e.type?n[t][e.name]=e.checked:n[t][e.name]=e.value)}));const a=t.querySelectorAll("button");a.forEach((e=>{e.disabled=!0})),t.classList.add("edac-fix-settings--saving");const r=t.querySelector("[aria-live]");r&&(r.innerText=(0,e.__)("Saving...","accessibility-checker")),fetch("/wp-json/edac/v1/fixes/update/",{method:"POST",headers:{"Content-Type":"application/json","X-WP-Nonce":window.edacSettings?.nonce??window.edac_script_vars?.restNonce??window.edacFrontendHighlighterApp?.restNonce},body:JSON.stringify(n)}).then((n=>{if(t.classList.remove("edac-fix-settings--saving"),a.forEach((e=>{e.disabled=!1})),n.ok){if(t.classList.remove("edac-fix-settings--saved--error"),t.classList.add("edac-fix-settings--saved--success"),r){const t=window?.edacFrontendHighlighterApp?.editorLink||window?.edac_script_vars?.editorLink;t?r.innerHTML=(0,e.sprintf)((0,e.__)("Settings saved successfully. You must %svisit the editor%s and save the post to rescan and remove fixed issues from Accessibility Checker reports.","accessibility-checker"),`<a href="${t}">`,"</a>"):r.innerText=(0,e.__)("Settings saved successfully.","accessibility-checker")}}else t.classList.add("edac-fix-settings--saved--error"),t.querySelector("[aria-live]").innerText=(0,e.__)("Saving failed.","accessibility-checker");document.dispatchEvent(new CustomEvent("edac-fix-settings-saved",{detail:{success:n.ok}}))}))})(t.target.closest(".edac-fix-settings"))}))})),document.querySelectorAll(".edac-fix-settings").forEach((e=>{e.querySelectorAll("input, select, textarea").forEach((e=>{e.addEventListener("change",R)}))})),t.forEach((t=>{t.addEventListener("click",(async n=>{const a=n.currentTarget,r=document.getElementById(a.getAttribute("aria-controls"));if(!r)return;t.hasAttribute("data-editor")&&(window.edac_script_vars.editorLink=t.getAttribute("data-editor")),r.classList.toggle("active"),document.querySelector("body").classList.add("edac-fix-modal-present");const o=r.querySelector("[data-fancy-name]");let i=(0,e.__)("Fix Settings","accessibility-checker");o&&o.getAttribute("data-fancy-name").length>0&&(i=o.getAttribute("data-fancy-name")),tb_show(i,"#TB_inline?width=750&inlineId="+r.id);const c=document.getElementById("TB_window");c.querySelector("[aria-live]").innerText="";const s=I(c);s.activate(),jQuery(document).one("tb_unload",(()=>{setTimeout((()=>{document.querySelectorAll(".edac-details-fix-settings").forEach((e=>{const t=e.querySelectorAll(".setting-row");if(t.length>1)for(let e=1;e<t.length;e++)t[e].remove()}))}),100),s.deactivate(),a.focus()}))}))})),document.addEventListener("edac-fix-settings-change",(()=>{document.querySelector("#TB_window [aria-live]").innerText=""}))},R=()=>{document.dispatchEvent(new CustomEvent("edac-fix-settings-change"))},G=()=>{document.querySelectorAll("[data-condition]").forEach((e=>{const t=e.getAttribute("data-condition"),n=document.getElementById(t);n&&"input"===n.tagName.toLowerCase()&&("text"===n.type&&""!==n.value.trim()||"checkbox"===n.type&&n.checked?(e.disabled=!1,e.closest("tr").classList.remove("edac-fix--hidden")):(e.disabled=!0,e.closest("tr").classList.add("edac-fix--hidden")))}))},B=(e,t)=>{document.getElementById(t).required=e},U=edac_script_vars;jQuery,jQuery((function(){document.getElementById("edac-fixes-page")&&(G(),document.querySelectorAll('.edac-settings form input[type="checkbox"]').forEach((e=>{e.addEventListener("change",(()=>{G()}))})),document.querySelectorAll("[data-required_when]").forEach((e=>{const t=e.getAttribute("data-required_when"),n=document.getElementById(t);n&&(B(n.checked,e.id),n.addEventListener("change",(e=>{document.querySelectorAll(`[data-required_when="${t}"]`).forEach((t=>{B(e.target.checked,t.id)}))})))}))),document.querySelector(".edac-fix--upsell, .edac-setting--upsell")&&document.querySelectorAll(".edac-fix--upsell, .edac-setting--upsell").forEach((t=>{const n=document.createElement("a"),a=window.edac_script_vars?.proUrl||"https://equalizedigital.com/accessibility-checker/pricing/",r=t.querySelector("input, select, textarea")?.getAttribute("name")||t.dataset?.setting||t.id||"setting",o=String(r).replace(/\[\]$/,"");n.href=a.includes("__name__")?a.replace("__name__",encodeURIComponent(o)):a,n.target="_blank",n.rel="noopener noreferrer",n.textContent=(0,e.__)("Get Pro","accessibility-checker"),n.classList.add("edac-setting--upsell-link"),n.setAttribute("aria-label",(0,e.__)("Get Pro to unlock this feature, opens in a new window.","accessibility-checker"));const i=t.closest("tr")?.querySelector("th");i&&(i.appendChild(document.createTextNode(" ")),i.appendChild(n))})),jQuery("input[type=checkbox][name=edac_add_footer_accessibility_statement]").on("change",(function(){this.checked?jQuery("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!1):(jQuery("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!0),jQuery("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("checked",!1))})),"none"===jQuery("input[type=radio][name=edac_simplified_summary_position]:checked").val()&&jQuery("#ac-simplified-summary-option-code").show(),jQuery("input[type=radio][name=edac_simplified_summary_position]").on("load",(function(){"none"===this.value?jQuery("#ac-simplified-summary-option-code").show():jQuery("#ac-simplified-summary-option-code").hide()}))})),jQuery(window).on("load",(function(){document.addEventListener("edac-cleared-issues",(function(){e()}));const e=()=>{F();const e=jQuery("#edac-summary-panel");jQuery(e).show().addClass("active");const a="#"+jQuery(e).attr("aria-labelledby");jQuery(a).addClass("active").attr("aria-selected","true").removeAttr("tabindex"),n(),t()};top.addEventListener("edac_js_scan_save_complete",(function(t){e()}));const t=()=>{!function(e=null){const t=U.postID;null!==t&&jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_summary_ajax",post_id:t,nonce:U.nonce}}).done((function(t){if(!0===t.success){const n=jQuery.parseJSON(t.data);jQuery(".edac-summary").html(n.content),"function"==typeof e&&e()}else console.log(t)}))}((()=>{!function(){const e=U.postID;null!==e&&jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_readability_ajax",post_id:e,nonce:U.nonce}}).done((function(n){if(!0===n.success){const a=jQuery.parseJSON(n.data);jQuery("#edac-readability-panel").html(a),jQuery(".edac-readability-simplified-summary").submit((function(n){n.preventDefault();const a=jQuery("#edac-readability-text").val();jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_update_simplified_summary",post_id:e,summary:a,nonce:U.nonce}}).done((function(e){!0===e.success?(jQuery.parseJSON(e.data),t()):console.log(e)}))}))}else console.log(n)}))}(),jQuery(".edac-panel").removeClass("edac-panel-loading")}))};function n(){const e=U.postID;null!==e&&jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_details_ajax",post_id:e,nonce:U.nonce}}).done((function(e){if(!0===e.success){const t=jQuery.parseJSON(e.data);jQuery("#edac-details-panel").html(t),jQuery(".edac-details-rule-title").click((function(){jQuery(this).hasClass("active")?(jQuery(this).next().slideUp(),jQuery(this).removeClass("active")):(jQuery(this).next().slideDown(),jQuery(this).addClass("active"))})),jQuery(".edac-details-rule-title-arrow").click((function(e){e.preventDefault(),"true"===jQuery(this).attr("aria-expanded")?jQuery(this).attr("aria-expanded","false"):jQuery(this).attr("aria-expanded","true")})),jQuery(".edac-details-rule-records-record-actions-ignore").click((function(e){e.preventDefault(),jQuery(this).parent().next(".edac-details-rule-records-record-ignore").slideToggle(),"true"===jQuery(this).attr("aria-expanded")?jQuery(this).attr("aria-expanded","false"):jQuery(this).attr("aria-expanded","true")})),a(),P()}else console.log(e)}))}function a(){jQuery(".edac-details-rule-records-record-ignore-submit").click((function(e){e.preventDefault();const n=[jQuery(this).attr("data-id")],a=jQuery(this).attr("data-action"),r=jQuery(this).attr("data-type"),o=jQuery(".edac-details-rule-records-record-ignore-comment",jQuery(this).parent()).val();jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_insert_ignore_data",ids:n,comment:o,ignore_action:a,ignore_type:r,nonce:U.nonce}}).done((function(e){if(!0===e.success){const a=jQuery.parseJSON(e.data),r="#edac-details-rule-records-record-"+a.ids[0],o="enable"===a.action?"disable":"enable",i="enable"===a.action,c="enable"===a.action?"Ignored":"Ignore",s="enable"===a.action?"Stop Ignoring":"Ignore This "+a.type,d=a.user?"<strong>Username:</strong> "+a.user:"",u=a.date?"<strong>Date:</strong> "+a.date:"";jQuery(r+" .edac-details-rule-records-record-ignore-submit").attr("data-action",o),jQuery(r+" .edac-details-rule-records-record-ignore-comment").attr("disabled",i),"enable"!==a.action&&jQuery(r+" .edac-details-rule-records-record-ignore-comment").val(""),jQuery(r+" .edac-details-rule-records-record-actions-ignore").toggleClass("active"),jQuery(".edac-details-rule-records-record-actions-ignore[data-id='"+n[0]+"']").toggleClass("active"),jQuery(r+" .edac-details-rule-records-record-actions-ignore-label").html(c),jQuery(".edac-details-rule-records-record-actions-ignore[data-id='"+n[0]+"'] .edac-details-rule-records-record-actions-ignore-label").html(c),jQuery(r+" .edac-details-rule-records-record-ignore-submit-label").html(s),jQuery(r+" .edac-details-rule-records-record-ignore-info-user").html(d),jQuery(r+" .edac-details-rule-records-record-ignore-info-date").html(u);const l=jQuery(r).parents(".edac-details-rule");let f=parseInt(jQuery(".edac-details-rule-count",l).html());"enable"===a.action?f--:"disable"===a.action&&f++,0===f?jQuery(".edac-details-rule-count",l).removeClass("active"):jQuery(".edac-details-rule-count",l).addClass("active"),f.toString(),jQuery(".edac-details-rule-count",l).html(f);let m=parseInt(jQuery(".edac-details-rule-count-ignore",l).html());"enable"===a.action?m++:"disable"===a.action&&m--,0===m?jQuery(".edac-details-rule-count-ignore",l).hide():jQuery(".edac-details-rule-count-ignore",l).show(),m.toString(),jQuery(".edac-details-rule-count-ignore",l).html(m+" Ignored Items"),jQuery("body").hasClass("accessibility-checker_page_accessibility_checker_issues")||jQuery("body").hasClass("accessibility-checker_page_accessibility_checker_ignored")?location.reload(!0):t()}else console.log(e)}))}))}function r(e,t){jQuery.ajax({url:ajaxurl,method:"GET",data:{action:"edac_review_notice_ajax",review_action:e,nonce:U.nonce}}).done((function(e){!0===e.success&&(jQuery.parseJSON(e.data),jQuery(".edac-review-notice").fadeOut(),t&&(window.location.href="https://wordpress.org/support/plugin/accessibility-checker/reviews/#new-post"))}))}function o(e=null){jQuery.ajax({url:ajaxurl,method:"GET",data:{action:e,nonce:U.nonce}}).done((function(e){!0===e.success&&jQuery.parseJSON(e.data)}))}jQuery(".edac-review-notice").length&&(jQuery(".edac-review-notice-review").on("click",(function(){r("stop",!0)})),jQuery(".edac-review-notice-remind").on("click",(function(){r("pause",!1)})),jQuery(".edac-review-notice-dismiss").on("click",(function(){r("stop",!1)}))),jQuery(".edac_gaad_notice").length&&jQuery(".edac_gaad_notice .notice-dismiss").on("click",(function(){o("edac_gaad_notice_ajax")})),jQuery(".edac_black_friday_notice").length&&jQuery(".edac_black_friday_notice .notice-dismiss").on("click",(function(){o("edac_black_friday_notice_ajax")})),jQuery("#edac-summary-panel").length&&(t(),n(),a()),jQuery(".edac-details-rule-records-record-ignore").length&&a(),jQuery("#edac-readability-panel").length&&t(),jQuery("#dismiss_welcome_cta").on("click",(function(){jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"edac_dismiss_welcome_cta_ajax"},success(e){"success"===e&&jQuery("#edac_welcome_page_summary").hide()}})}));const i=document.querySelector(".edac-widget-modal-content-close");i&&i.addEventListener("click",(function(e){const t=e.target.closest(".edac-widget-modal");t&&(t.style.display="none"),document.querySelector(".edac-summary").remove(),jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"edac_dismiss_dashboard_cta_ajax"}})}))})),window.addEventListener("load",(function(){document.getElementById("edac-tabs")&&(()=>{const e=document.querySelectorAll(".edac-tab button");e.forEach(((t,n)=>{t.addEventListener("click",(e=>{if(!(e.target instanceof HTMLButtonElement)&&"undefined"!==e.target.getAttribute("aria-controls"))return;const t=document.querySelector("#"+e.target.getAttribute("aria-controls"));t instanceof HTMLElement&&(e.preventDefault(),F(),t.style.display="block",t.classList.add("active"),e.target.classList.add("active"),e.target.setAttribute("aria-selected",!0),e.target.removeAttribute("tabindex"),e.target.focus())})),t.addEventListener("keydown",(t=>{if("Enter"!==t.key&&13!==t.keyCode&&"Space"!==t.key&&32!==t.keyCode||e[n].click(),"ArrowRight"===t.key||39===t.keyCode){let t=n+1;t>e.length&&(t=0),e[t].click()}if("ArrowLeft"===t.key||37===t.keyCode){let t=n-1;t<0&&(t=e.length-1),e[t].click()}"Home"!==t.key&&36!==t.keyCode||(e[0].click(),t.preventDefault()),"End"!==t.key&&35!==t.keyCode||(e[e.length-1].click(),t.preventDefault())}))}))})(),this.document.querySelector(".edac-widget .edac-summary")&&M(),this.document.querySelector("#edac_clear_cached_stats")&&this.document.querySelector("#edac_clear_cached_stats").addEventListener("click",(function(){const e=document.querySelector("#edac_welcome_page_summary .edac-welcome-grid-container");e&&e.classList.add("edac-panel-loading"),H(U.edacApiUrl+"/clear-cached-scans-stats").then((t=>{t.success&&(e&&e.classList.remove("edac-panel-loading"),window.location.reload())}))})),this.document.querySelector("body.accessibility-checker_page_accessibility_checker_issues")&&P();const e=document.querySelectorAll(".edac-welcome-header-left .notice");if(e.length){const t=document.createElement("div");t.classList.add("edac-welcome-header-notices"),document.querySelector(".edac-welcome-header-right").insertAdjacentElement("afterend",t),document.querySelector(".edac-welcome-header-notices")&&e.forEach((function(e){t.appendChild(e)}))}J(),$()}));const M=()=>{K(U.edacApiUrl+"/scans-stats").then((e=>{if(e.success){const t=e.stats.passed_percentage,n=e.stats.passed_percentage_formatted,a=document.querySelector("#edac-summary-passed");a&&(a.setAttribute("aria-valuenow",t),a.style.background="radial-gradient(closest-side, white 85%, transparent 80% 100%), conic-gradient(#006600 "+t+"%, #e2e4e7 0)");const r=document.querySelector("#edac-summary-passed .edac-progress-percentage");r&&(r.textContent=n);const o=e.stats.cached_at_formatted||e.stats.fullscan_completed_at_formatted;document.getElementById("edac-summary-info-date").textContent=o;const i=e.stats.posts_scanned,c=e.stats.posts_scanned_formatted,s=document.querySelector("#edac-summary-info-count");s&&(s.textContent=c);const d=e.stats.distinct_errors_without_contrast,u=e.stats.distinct_errors_without_contrast_formatted,l=document.querySelector(".edac-summary-info-stats-box-error");d>0&&l&&l.classList.add("has-errors");const f=document.querySelector("#edac-summary-info-errors");f&&(f.textContent=u);const m=e.stats.distinct_contrast_errors,y=e.stats.distinct_contrast_errors_formatted,p=document.querySelector(".edac-summary-info-stats-box-contrast");d>0&&p&&p.classList.add("has-errors");const v=document.querySelector("#edac-summary-info-contrast-errors");v&&(v.textContent=y);const h=e.stats.distinct_warnings,b=e.stats.distinct_warnings_formatted,g=document.querySelector(".edac-summary-info-stats-box-warning");h>0&&g&&g.classList.add("has-warning");const _=document.querySelector("#edac-summary-info-warnings");if(_&&(_.textContent=b),d+m+h>0){const e=document.querySelector(".edac-summary-notice-has-issues");e&&e.classList.remove("edac-hidden")}else{const e=document.querySelector(".edac-summary-notice-no-issues");e&&i>0&&e.classList.remove("edac-hidden")}const w=e.stats.is_truncated,j=document.querySelector(".edac-summary-notice-is-truncated");j&&w&&j.classList.remove("edac-hidden");const S=document.querySelector(".edac-summary.edac-modal-container");S&&S.classList.remove("edac-hidden")}})).catch((e=>{})),K(U.edacApiUrl+"/scans-stats-by-post-types").then((e=>{e.success&&Object.entries(e.stats).forEach((([t,n])=>{if(e.stats[t]){n.distinct_errors_without_contrast;const e=n.distinct_errors_without_contrast_formatted,a=(n.distinct_contrast_errors,n.distinct_contrast_errors_formatted),r=(n.distinct_warnings,n.distinct_warnings_formatted),o=document.querySelector("#"+t+"-errors");o&&(o.textContent=e);const i=document.querySelector("#"+t+"-contrast-errors");i&&(i.textContent=a);const c=document.querySelector("#"+t+"-warnings");c&&(c.textContent=r)}}));const t=document.querySelector(".edac-issues-summary");t&&t.classList.remove("edac-hidden"),J()})).catch((e=>{console.log(e)}))};function J(){const e={year:"numeric",month:"short",day:"numeric"};document.querySelectorAll(".edac-timestamp-to-local").forEach((function(t){if(/^[0-9]+$/.test(t.textContent)){const n=t.textContent,a=new Date(1e3*n).toLocaleDateString([],e),r=new Date(1e3*n).toLocaleTimeString([],{timeStyle:"short"}),o=Intl.DateTimeFormat([],{timeZoneName:"short"}).formatToParts(new Date);let i="";for(const e of o)if("timeZoneName"===e.type){i=e.value;break}t.innerHTML='<span class="edac-date">'+a+'</span>&nbsp;<span class="edac-time">'+r+'</span>&nbsp;<span class="edac-timezone">'+i+"</span>",t.classList.remove("edac-timestamp-to-local")}}))}const K=async(e="",t={})=>(await fetch(e,{method:"GET",headers:{"X-WP-Nonce":edac_script_vars.restNonce,"Content-Type":"application/json"}})).json(),H=async(e="",t={})=>(await fetch(e,{method:"POST",headers:{"X-WP-Nonce":edac_script_vars.restNonce,"Content-Type":"application/json"},body:JSON.stringify(t)})).json(),$=()=>{const e=document.getElementById("edacp_enable_archive_scanning"),t=document.getElementById("edacp_scan_all_taxonomy_terms");if(e&&t){function n(){e.checked&&!1===e.disabled?t.disabled=!1:(t.disabled=!0,t.checked=!1);const n=t.closest("fieldset");n&&n.setAttribute("aria-disabled",String(t.disabled))}n(),e.addEventListener("change",n)}}})()})();